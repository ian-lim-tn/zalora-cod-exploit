from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.common.exceptions import TimeoutException
from selenium.webdriver.support.ui import WebDriverWait # available since 2.4.0
from selenium.webdriver.support import expected_conditions as EC # available since 2.26.0
from selenium.webdriver.support.ui import Select
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()

################# SETTINGS #################
# Set implicit waits / force webdriver to wait until dom in fully loaded
driver.implicitly_wait(5)

################# SETTINGS END #################


# ################# REGISTRATION  #################

# # Navigate to Zalora Malaysia register page
# driver.get('https://www.zalora.com.my/customer/account/create/?from=header')

# # Register - find email address input field
# acc_email = driver.find_element_by_id('RegistrationForm_email')

# # Add text input for email address
# acc_email.send_keys('pepega@pepega.com')

# # Register - find password input field
# acc_pass = driver.find_element_by_id('RegistrationForm_password')

# # Add input for password field
# acc_pass.send_keys('123123123')

# # Register - find gender input field (Male)
# acc_gender = driver.find_element_by_id('RegistrationForm_gender_1')

# # select gender
# acc_gender.click()

# # select first name (name to be called)
# acc_fn = driver.find_element_by_id('RegistrationForm_first_name')

# # add input for first name
# acc_fn.send_keys('pepega')

# # select day (birthday)
# acc_b_day = Select(driver.find_element_by_id("RegistrationForm_day"))
# acc_b_day.select_by_visible_text('06')

# # select month (birthday)
# acc_month = Select(driver.find_element_by_id('RegistrationForm_month'))
# acc_month.select_by_visible_text('June')


# # select year (birthday)
# acc_year = Select(driver.find_element_by_id('RegistrationForm_year'))
# acc_year.select_by_visible_text('1966')

# # submit form / Must traverse dom from form ID
# driver.find_element_by_id('form-account-create').submit()

# ################# REGISTRATION END #################


################# MAKE PURCHASE #################

# navigate to bag section
driver.get('https://www.zalora.com.my/men/bags/?from=header')

# navigate classes for bags
bags = driver.find_elements(By.CLASS_NAME, "b-catalogList__wrapper clearfix")

bags_list = "b-catalogList__itmBrand fsm txtDark uc"

for bag in bags:
    print(driver.find_elements(By.CLASS_NAME, bags_list))


# To-do
# 1. iterate over bags
# 2. randomly add 1 bag to create
# 3. Go to cart
# 4. go to checkout
# 5. Input fields 
# 6. select COD and order now























#####################################################
# acc_b_day = driver.find_element_by_id('RegistrationForm_day')
# Trash 

# add input for birthday-first-day
# allOptions = acc_b_day.find_elements_by_tag_name("option")
# for option in allOptions:
#     option.get_attribute('06')
#     option.click()


# print('Selenium is opening the webpage of ' + driver.title)
#####################################################